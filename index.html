<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NASA FARMS — Demo / Прототип (Hackathon)</title>
  <style>
    :root{--accent:#0b74de;--muted:#6b7280;--card:#fff;--bg:#f6f7fb}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial; background:var(--bg);color:#0f172a}
    header{background:linear-gradient(90deg,#071b2d 0%, rgba(11,116,222,.06) 60%);color:#fff;padding:28px 20px}
    .wrap{max-width:1200px;margin:0 auto}
    .brand{display:flex;gap:16px;align-items:center}
    .logo{width:64px;height:64px;border-radius:10px;background:linear-gradient(135deg,#0b74de,#00c2a8);display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff}
    h1{margin:0;font-size:24px}
    p.lead{margin:10px 0 0;color:#e6eefb}

    nav{margin-top:16px}
    nav a{color:rgba(255,255,255,.9);margin-right:14px;text-decoration:none}

    main{padding:28px 20px}
    .grid{display:grid;grid-template-columns:1fr 420px;gap:24px}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 20px rgba(16,24,40,0.06)}

    .section-title{display:flex;justify-content:space-between;align-items:center}
    h2{margin:0;font-size:18px}
    .muted{color:var(--muted);font-size:13px}

    .features{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .feature{background:#f8fbff;padding:10px;border-radius:8px;font-size:14px}

    .controls{display:flex;gap:8px;margin-top:12px}
    button{background:var(--accent);color:#fff;border:0;padding:10px 12px;border-radius:8px;cursor:pointer}
    button.ghost{background:transparent;color:var(--accent);border:1px solid rgba(11,116,222,.14)}

    /* printable pack layout */
    .print-area{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .data-card{border:1px solid #e6eefb;border-radius:8px;padding:10px;background:linear-gradient(180deg,#fff,#fbfdff)}
    .data-card h3{margin:0;font-size:14px}
    .meta{font-size:12px;color:var(--muted);margin-top:6px}
    .param{display:flex;justify-content:space-between;padding:6px 0;border-top:1px dashed #eef5ff;font-size:13px}
    .badge{display:inline-block;padding:4px 8px;border-radius:999px;background:#eef7ff;font-size:12px;color:var(--accent)}

    /* cheat sheet */
    .legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .legend div{padding:8px;border-radius:8px;background:#fff;font-size:13px;border:1px solid #eef5ff}

    footer{margin-top:20px;text-align:center;color:var(--muted);font-size:13px;padding:24px}

    /* Print styles for A4 cards */
    @media print{
      body{background:#fff}
      header,nav,.no-print{display:none}
      .wrap{max-width:100%}
      .card{box-shadow:none;border-radius:0;padding:8px}
      .print-page{page-break-after:always}
    }

    /* responsive */
    @media (max-width:980px){.grid{grid-template-columns:1fr}.print-area{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <div class="logo">NF</div>
        <div>
          <h1>NASA FARMS — игровой прототип</h1>
          <p class="lead">Обучающая настольная игра, использующая открытые данные NASA (SMAP, GPM, MODIS, POWER, FIRMS, OpenET)</p>
        </div>
      </div>
      <nav class="no-print">
        <a href="#about">О проекте</a>
        <a href="#howto">Как играть</a>
        <a href="#printable">Печать</a>
        <a href="#sources">Источники</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">
      <section>
        <div class="card">
          <div class="section-title">
            <h2 id="about">Кратко — идея и цель</h2>
            <span class="muted">12 раундов · 2–4 игрока · 45–90 мин</span>
          </div>
          <p style="margin-top:10px">Игроки — фермеры в разных климатических зонах. За 12 раундов они используют реальные NASA-данные (Soil moisture, Precipitation, NDVI, Temperature, Solar, ET, Fire) и технологии, чтобы максимизировать Food и Resilience. Сайт показывает правила, компоненты и печатный прототип для хакатона.</p>

          <div style="margin-top:12px">
            <div class="features">
              <div class="feature">Игровые планшеты A4</div>
              <div class="feature">Колода NASA DATA (60–80)</div>
              <div class="feature">EVENT &amp; TECH карты</div>
              <div class="feature">Cheat-sheet: как читать NASA-карту</div>
            </div>

            <div class="controls">
              <button id="generate-sample">Сгенерировать 12 DATA карт (пример)</button>
              <button class="ghost" id="print-pack">Печатать / Сохранить PDF</button>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:16px">
          <div class="section-title">
            <h2 id="howto">Как играть (сжатая версия)</h2>
            <span class="muted">Структура хода</span>
          </div>
          <ol style="margin-top:10px;padding-left:18px">
            <li>Каждый месяц: всем игрокам выдаётся 1 NASA DATA карта — применяются параметры (Soil moisture, Precip, NDVI, Temp, Solar, ET, Fire).</li>
            <li>Игроки выполняют до 3 действий: посадка, кормление, уборка, инвестирование в Tech, анализ данных (Data token), торговля.</li>
            <li>После ходов тянется EVENT карта и результаты применяются.</li>
            <li>Каждый 3 месяца — смена сезона + Global Anomaly.</li>
          </ol>
          <p class="muted">Подробные формулы и таблицы трансляции чисел в LOW/NORMAL/HIGH доступны в печатном разделе.</p>
        </div>

        <div class="card" style="margin-top:16px">
          <div class="section-title"><h2>Тех-карты (примеры)</h2><span class="muted">Баланс / Научность</span></div>
          <ul style="margin-top:10px;padding-left:18px">
            <li><strong>Drip irrigation</strong> — Cost 4 Credits. Игнорирует один LOW soil moisture в течение сезона.</li>
            <li><strong>Solar pump</strong> — Cost 3 Credits. Требует Solar ≥ MED → +1 Water/мес.</li>
            <li><strong>Remote NDVI monitoring</strong> — Cost 2 Credits + 1 Data token → узнать следующий Event.</li>
          </ul>
        </div>

      </section>

      <aside>
        <div class="card">
          <div class="section-title"><h2>Печатный прототип</h2><span class="muted">A4-ready</span></div>
          <p style="margin-top:8px">Внизу страницы формируется набор карточек: 12 DATA, 8 EVENT, 6 планшетов (A4), Cheat-sheet. Нажмите «Сгенерировать 12 DATA карт», затем «Печатать / Сохранить PDF» (Ctrl+P → Save as PDF) и распечатайте на A4. Для хакатона рекомендуем 6 планшетов и 12 карт для 2–3 раундов.</p>

          <div style="margin-top:8px"><strong>Ссылки (поставьте в слайд ‹Источники›):</strong>
            <ul style="padding-left:18px;margin-top:8px">
              <li><a href="https://smap.jpl.nasa.gov/">SMAP — soil moisture</a></li>
              <li><a href="https://gpm.nasa.gov/">GPM — precipitation</a></li>
              <li><a href="https://modis.gsfc.nasa.gov/data/dataprod/mod13.php">MODIS — NDVI</a></li>
              <li><a href="https://power.larc.nasa.gov/">NASA POWER — solar &amp; temp</a></li>
              <li><a href="https://firms.modaps.eosdis.nasa.gov/">FIRMS — fire alerts</a></li>
            </ul>
          </div>

          <div style="margin-top:10px">
            <strong>Что ещё я добавил(а):</strong>
            <div class="muted">print-ready CSS, шаблон карточки, cheat-sheet, примеры Tech/Event</div>
          </div>
        </div>

        <div class="card" style="margin-top:16px">
          <h2>Cheat-sheet — быстрые пороги</h2>
          <div class="legend">
            <div><strong>Soil moisture</strong><div class="muted">LOW &lt;0.12 • NORMAL 0.12–0.25 • HIGH &gt;0.25</div></div>
            <div><strong>Precip</strong><div class="muted">LOW &lt;30 mm • NORMAL 30–100 • HIGH &gt;100</div></div>
            <div><strong>NDVI</strong><div class="muted">LOW &lt;0.2 • MOD 0.2–0.5 • HIGH &gt;0.5</div></div>
          </div>
        </div>

      </aside>
    </div>

    <!-- Printable area -->
    <section id="printable" style="margin-top:18px">
      <div class="card">
        <div class="section-title"><h2>Printable pack — карточки (пример)</h2><span class="muted">Сгенерируйте и распечатайте</span></div>
        <p class="muted" style="margin-top:8px">Ниже — пространство, которое будет заполнено 12 примерными DATA картами при нажатии кнопки. Каждая карточка — A5-ish; при печати выбирайте «Несколько страниц на лист» или используйте слот 2-up.</p>

        <div id="print-area" class="print-area" style="margin-top:12px"></div>

        <div style="margin-top:12px;display:flex;gap:8px">
          <button id="regen">Обновить примеры</button>
          <button id="print2" class="ghost">Печатать / Скачать PDF</button>
        </div>

      </div>
    </section>

    <section id="sources" style="margin-top:18px">
      <div class="card">
        <div class="section-title"><h2>Источники &amp; Научная основа</h2><span class="muted">Коротко</span></div>
        <ul style="margin-top:10px;padding-left:18px">
          <li>SMAP — влажность почвы (точечные значения)</li>
          <li>GPM / TRMM — осадки</li>
          <li>MODIS (MOD13) — NDVI (16-дневный, агрегат за месяц)</li>
          <li>NASA POWER — solar, temperature (DAV / API)</li>
          <li>FIRMS — оперативные точки пожаров</li>
          <li>OpenET — evapotranspiration</li>
          <li>NASA Harvest — прикладные кейсы по EO в сельском хозяйстве</li>
        </ul>

        <p class="muted">В презентацию вставляйте эти ссылки и один пример карты, чтобы жюри увидело связь с реальными данными.</p>
      </div>
    </section>

    <section id="downloads" style="margin-top:18px">
      <div class="card">
        <div class="section-title"><h2>Скачать прототипы</h2><span class="muted">PDF и презентация</span></div>
        <p style="margin-top:8px">Я сгенерировал печатный PDF-прототип и презентацию для хакатона. Скачайте их по ссылкам ниже (файлы находятся в рабочем окружении):</p>
        <ul style="padding-left:18px;margin-top:8px">
          <li><strong>Printable PDF (cards + cheat-sheet + 6 player boards):</strong> <em>NASA_FARMS_printable_prototype.pdf</em></li>
          <li><strong>Presentation (6 slides):</strong> <em>NASA_FARMS_presentation.pptx</em></li>
        </ul>
        <p class="muted">Если нужно, я могу сразу внести финальные правки в PDF/презентацию (локализация, реальные числа из API, логотипы) и пересоздать файлы.</p>
      </div>
    </section>

    <footer>
      <div class="muted">Этот сайт — прототип для хакатона NASA Space Apps Challenge. Нужны изменения, локализация, PDF со страницами A4 или автогенератор карточек из API — могу добавить.</div>
    </footer>
  </main>

  <script>
    // Sample generator: create 12 example DATA cards using templates described by user
    const samples = [
      {title:'SMAP point — East US — May',soil:0.12,precip:30,ndvi:0.35,temp:28,solar:5.4,et:90,fire:true},
      {title:'MODIS — Sahel — Jul',soil:0.08,precip:5,ndvi:0.12,temp:36,solar:7.2,et:110,fire:false},
      {title:'POWER — Spain — Oct',soil:0.26,precip:80,ndvi:0.52,temp:19,solar:4.1,et:60,fire:false},
      {title:'SMAP — India — Apr',soil:0.18,precip:120,ndvi:0.45,temp:30,solar:6.8,et:95,fire:false},
      {title:'GPM — Brazil — Jan',soil:0.32,precip:220,ndvi:0.72,temp:26,solar:5.9,et:80,fire:false},
      {title:'MODIS — Australia — Sep',soil:0.09,precip:12,ndvi:0.22,temp:32,solar:7.5,et:120,fire:true},
      {title:'POWER — Turkey — May',soil:0.20,precip:55,ndvi:0.41,temp:22,solar:5.2,et:70,fire:false},
      {title:'SMAP — Russia — Jun',soil:0.15,precip:40,ndvi:0.30,temp:18,solar:3.3,et:50,fire:false},
      {title:'GPM — Kenya — Feb',soil:0.10,precip:25,ndvi:0.18,temp:29,solar:6.1,et:85,fire:false},
      {title:'MODIS — Andes — Nov',soil:0.22,precip:95,ndvi:0.48,temp:12,solar:3.8,et:40,fire:false},
      {title:'POWER — Egypt — Aug',soil:0.05,precip:0,ndvi:0.07,temp:41,solar:8.0,et:140,fire:false},
      {title:'SMAP — France — Mar',soil:0.28,precip:70,ndvi:0.57,temp:10,solar:3.6,et:45,fire:false}
    ];

    function categorySoil(v){ if(v<0.12) return 'LOW'; if(v<=0.25) return 'NORMAL'; return 'HIGH'; }
    function categoryPrecip(v){ if(v<30) return 'LOW'; if(v<=100) return 'NORMAL'; return 'HIGH'; }
    function categoryNDVI(v){ if(v<0.2) return 'LOW'; if(v<=0.5) return 'MODERATE'; return 'HIGH'; }
    function categorySolar(v){ if(v<3) return 'LOW'; if(v<=6) return 'MED'; return 'HIGH'; }

    function renderOne(card){
      const el = document.createElement('div'); el.className='data-card';
      el.innerHTML = `
        <h3>${card.title}</h3>
        <div class="meta">Source: sample • Month view</div>
        <div class="param"><div>Soil moisture</div><div><strong>${card.soil.toFixed(2)}</strong> (${categorySoil(card.soil)})</div></div>
        <div class="param"><div>Precipitation</div><div><strong>${card.precip} mm</strong> (${categoryPrecip(card.precip)})</div></div>
        <div class="param"><div>NDVI</div><div><strong>${card.ndvi.toFixed(2)}</strong> (${categoryNDVI(card.ndvi)})</div></div>
        <div class="param"><div>Temp</div><div><strong>${card.temp} °C</strong></div></div>
        <div class="param"><div>Solar</div><div><strong>${card.solar.toFixed(1)}</strong> kWh/m² (${categorySolar(card.solar)})</div></div>
        <div class="param"><div>ET</div><div><strong>${card.et} mm</strong></div></div>
        <div class="param"><div>Fire</div><div>${card.fire?'<span class="badge">YES</span>':'NO'}</div></div>
        <div style="margin-top:8px;font-size:12px;color:var(--muted)">Игровой эффект: ${generateEffectText(card)}</div>
      `;
      return el;
    }

    function generateEffectText(c){
      const parts=[];
      if(categorySoil(c.soil)==='LOW') parts.push('crop yield −2 без ирригации');
      if(categoryPrecip(c.precip)==='LOW') parts.push('water refill −1');
      if(categoryNDVI(c.ndvi)!=='LOW') parts.push('pasture +1 feed');
      if(c.temp>=28) parts.push('chickens −1 produce (heat)');
      if(categorySolar(c.solar)==='HIGH') parts.push('Solar Pump +1 water');
      if(c.et>c.precip) parts.push('ET > Precip → water deficit');
      if(c.fire) parts.push('Fire risk — roll d6');
      return parts.join('; ');
    }

    function generatePack(){
      const area = document.getElementById('print-area'); area.innerHTML='';
      samples.forEach(s=> area.appendChild(renderOne(s)));
    }

    document.getElementById('generate-sample').addEventListener('click', ()=>{ generatePack(); window.scrollTo({top:document.getElementById('printable').offsetTop, behavior:'smooth'}); });
    document.getElementById('regen').addEventListener('click', generatePack);
    document.getElementById('print-pack').addEventListener('click', ()=> window.print());
    document.getElementById('print2').addEventListener('click', ()=> window.print());

    // auto-generate on load so user immediately has content
    generatePack();
  </script>
</body>
</html>
